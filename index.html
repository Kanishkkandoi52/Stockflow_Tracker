<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
    <title>StockFlow</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
    <!-- Onboarding Screens -->
    <div class="screen active" id="screen-preferences">
        <div class="onboarding-header">
            <h1>Welcome to StockFlow</h1>
            <p>Let's personalize your experience</p>
            <div class="progress-bar"><div class="progress-fill" style="width: 20%"></div></div>
        </div>
        <div class="question-card">
            <h2 class="question-title">Set Your Preferences</h2>
            <p class="question-subtitle">Choose your notification and display preferences</p>
            <div class="options-grid">
                <div class="option-button" onclick="toggleOption(this)">
                    <strong>Daily Market Updates</strong>
                    <p>Get market summaries every morning</p>
                </div>
                <div class="option-button" onclick="toggleOption(this)">
                    <strong>Price Alerts</strong>
                    <p>Notify when stocks hit target prices</p>
                </div>
                <div class="option-button" onclick="toggleOption(this)">
                    <strong>Weekly Reports</strong>
                    <p>Portfolio performance summaries</p>
                </div>
            </div>
            <div class="nav-buttons">
                <button class="btn" onclick="nextScreen('screen-portfolio-category')">Next</button>
            </div>
        </div>
    </div>

    <div class="screen" id="screen-portfolio-category">
        <div class="onboarding-header">
            <h1>Categorize Your Portfolio</h1>
            <div class="progress-bar"><div class="progress-fill" style="width: 35%"></div></div>
        </div>
        <div class="question-card">
            <h2 class="question-title">What type of investor are you?</h2>
            <div class="options-grid">
                <div class="option-button" onclick="selectSingle(this, 'portfolio-type')">
                    <strong>Conservative</strong>
                    <p>Focus on capital preservation</p>
                </div>
                <div class="option-button" onclick="selectSingle(this, 'portfolio-type')">
                    <strong>Moderate</strong>
                    <p>Balance growth and stability</p>
                </div>
                <div class="option-button" onclick="selectSingle(this, 'portfolio-type')">
                    <strong>Aggressive</strong>
                    <p>Maximize growth potential</p>
                </div>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="previousScreen('screen-preferences')">Back</button>
                <button class="btn" onclick="nextScreen('screen-goals')">Next</button>
            </div>
        </div>
    </div>

    <div class="screen" id="screen-goals">
        <div class="onboarding-header">
            <h1>Investment Goals</h1>
            <div class="progress-bar"><div class="progress-fill" style="width: 50%"></div></div>
        </div>
        <div class="question-card">
            <h2 class="question-title">What are your investment goals?</h2>
            <p class="question-subtitle">Short-term goals (1-3 years)</p>
            <div class="options-grid">
                <div class="option-button" onclick="toggleOption(this)">Emergency Fund</div>
                <div class="option-button" onclick="toggleOption(this)">Major Purchase</div>
                <div class="option-button" onclick="toggleOption(this)">Travel</div>
            </div>
            <p class="question-subtitle">Long-term goals (5+ years)</p>
            <div class="options-grid">
                <div class="option-button" onclick="toggleOption(this)">Retirement</div>
                <div class="option-button" onclick="toggleOption(this)">Home Purchase</div>
                <div class="option-button" onclick="toggleOption(this)">Children's Education</div>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="previousScreen('screen-portfolio-category')">Back</button>
                <button class="btn" onclick="nextScreen('screen-experience')">Next</button>
            </div>
        </div>
    </div>

    <div class="screen" id="screen-experience">
        <div class="onboarding-header">
            <h1>Investment Experience</h1>
            <div class="progress-bar"><div class="progress-fill" style="width: 65%"></div></div>
        </div>
        <div class="question-card">
            <h2 class="question-title">How long have you been investing?</h2>
            <div class="options-grid">
                <div class="option-button" onclick="selectSingle(this, 'experience')">
                    <strong>New to investing</strong><p>Less than 1 year</p>
                </div>
                <div class="option-button" onclick="selectSingle(this, 'experience')">
                    <strong>Some experience</strong><p>1-3 years</p>
                </div>
                <div class="option-button" onclick="selectSingle(this, 'experience')">
                    <strong>Experienced</strong><p>3-10 years</p>
                </div>
                <div class="option-button" onclick="selectSingle(this, 'experience')">
                    <strong>Expert</strong><p>10+ years</p>
                </div>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="previousScreen('screen-goals')">Back</button>
                <button class="btn" onclick="nextScreen('screen-markets')">Next</button>
            </div>
        </div>
    </div>

    <div class="screen" id="screen-markets">
        <div class="onboarding-header">
            <h1>Market Interests</h1>
            <div class="progress-bar"><div class="progress-fill" style="width: 80%"></div></div>
        </div>
        <div class="question-card">
            <h2 class="question-title">Which markets interest you?</h2>
            <div class="options-grid">
                <div class="option-button" onclick="toggleOption(this)">
                    <strong>US Stocks</strong><p>NYSE, NASDAQ</p>
                </div>
                <div class="option-button" onclick="toggleOption(this)">
                    <strong>International Stocks</strong><p>Global markets</p>
                </div>
                <div class="option-button" onclick="toggleOption(this)">
                    <strong>Bonds</strong><p>Fixed income</p>
                </div>
                <div class="option-button" onclick="toggleOption(this)">
                    <strong>Cryptocurrency</strong><p>Digital assets</p>
                </div>
                <div class="option-button" onclick="toggleOption(this)">
                    <strong>ETFs</strong><p>Exchange-traded funds</p>
                </div>
                <div class="option-button" onclick="toggleOption(this)">
                    <strong>Commodities</strong><p>Gold, oil, etc.</p>
                </div>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="previousScreen('screen-experience')">Back</button>
                <button class="btn" onclick="nextScreen('screen-risk')">Next</button>
            </div>
        </div>
    </div>

    <div class="screen" id="screen-risk">
        <div class="onboarding-header">
            <h1>Risk Tolerance</h1>
            <div class="progress-bar"><div class="progress-fill" style="width: 90%"></div></div>
        </div>
        <div class="question-card">
            <h2 class="question-title">What's your risk tolerance?</h2>
            <div class="options-grid">
                <div class="option-button" onclick="selectSingle(this, 'risk')">
                    <strong>Low Risk</strong><p>Preserve capital, accept lower returns</p>
                </div>
                <div class="option-button" onclick="selectSingle(this, 'risk')">
                    <strong>Moderate Risk</strong><p>Some fluctuation for better returns</p>
                </div>
                <div class="option-button" onclick="selectSingle(this, 'risk')">
                    <strong>High Risk</strong><p>Accept volatility for maximum growth</p>
                </div>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="previousScreen('screen-markets')">Back</button>
                <button class="btn" onclick="nextScreen('screen-connect')">Next</button>
            </div>
        </div>
    </div>

    <div class="screen" id="screen-connect">
        <div class="onboarding-header">
            <h1>Connect Your Accounts</h1>
            <div class="progress-bar"><div class="progress-fill" style="width: 100%"></div></div>
        </div>
        <div class="question-card">
            <h2 class="question-title">Connect your investment accounts</h2>
            <div class="broker-grid">
                <div class="broker-card" onclick="toggleBroker(this)">
                    <div>üìà</div><strong>E*TRADE</strong>
                </div>
                <div class="broker-card" onclick="toggleBroker(this)">
                    <div>üéØ</div><strong>Robinhood</strong>
                </div>
                <div class="broker-card" onclick="toggleBroker(this)">
                    <div>üí∞</div><strong>Fidelity</strong>
                </div>
                <div class="broker-card" onclick="toggleBroker(this)">
                    <div>ü™ô</div><strong>Coinbase</strong>
                </div>
                <div class="broker-card" onclick="toggleBroker(this)">
                    <div>üìä</div><strong>TD Ameritrade</strong>
                </div>
                <div class="broker-card" onclick="toggleBroker(this)">
                    <div>üè¶</div><strong>SoFi</strong>
                </div>
                <div class="broker-card" onclick="toggleBroker(this)">
                    <div>üåê</div><strong>Public</strong>
                </div>
                <div class="broker-card" onclick="toggleBroker(this)">
                    <div>‚ûï</div><strong>Other</strong>
                </div>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="previousScreen('screen-risk')">Back</button>
                <button class="btn" onclick="finishOnboarding()">Complete Setup</button>
            </div>
        </div>
    </div>

    <!-- Dashboard -->
    <div class="screen" id="screen-dashboard">
        <div class="dashboard-header">
  <h1>Your Dashboard</h1>
  <div class="dash-tabs" role="tablist" aria-label="Dashboard tabs">
    <button class="dash-tab active" data-tab="recs" aria-selected="true">Today‚Äôs Recommendations</button>
    <button class="dash-tab" data-tab="highlights">Market Highlights</button>
  </div>
</div>
        <div class="dashboard-content">
            <!-- Today's Recommendations -->
<div class="dashboard-card" id="todays-recs">
  <div class="card-header">
    <h3>Today‚Äôs Recommendations</h3>
    <button class="btn btn-ghost" id="refreshRecsBtn">Refresh</button>
  </div>
  <ul class="list" id="recsList"></ul>
</div>

            <div class="dashboard-card" id="portfolio-diversification">
                <h3>Portfolio Diversification</h3>
<canvas id="pieChart" width="320" height="220" aria-label="Portfolio Diversification"></canvas>
<p class="muted small">Click a slice to see details.</p>
            </div>
            <div class="dashboard-card" id="performance-graph">
                <h3>Performance</h3>
<canvas id="lineChart" width="360" height="220" aria-label="Performance"></canvas>
<p class="muted small">Click the chart for more info.</p>
            </div>
            <div class="dashboard-card" id="market-highlights">
                <h3>Market Highlights</h3>
                <p>Top gainers/losers and personalized insights.</p>
            </div>
            <div class="dashboard-card" id="chatbot-dashboard">
                <h3>Ask your Chatbot</h3>
                <input type="text" placeholder="Type a question..." />
            </div>
        </div>
    </div>

    <div class="tooltip" id="tooltip"></div>
</div>
<script src="script.js"></script>
    <!-- Market Highlights Modal -->
<div class="modal" id="highlightsModal" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="modal-backdrop" data-close></div>
  <div class="modal-panel" role="document">
    <div class="modal-header">
      <h3>Market Highlights</h3>
      <button class="icon-btn" id="closeHighlights" aria-label="Close">&times;</button>
    </div>

    <div class="modal-grid">
      <!-- SMS toggle -->
      <section class="modal-card">
        <h4>SMS Notifications</h4>
        <p class="muted">Get pre-market & close recaps via text with a link to the full view.</p>
        <label class="switch">
          <input type="checkbox" id="smsToggle">
          <span class="slider"></span>
        </label>
        <div class="sms-row" id="smsNumberRow" style="display:none;">
          <input type="tel" id="smsNumber" placeholder="555-123-4567" />
          <button class="btn" id="smsSave">Save</button>
        </div>
        <p class="fineprint">You‚Äôll receive a one-time message with an app link. Std rates apply.</p>
      </section>

      <!-- AI summaries -->
      <section class="modal-card">
        <h4>AI Summaries</h4>
        <details open>
          <summary><strong>General Market</strong> <span class="badge">AI</span></summary>
          <p id="aiGeneralSummary" class="summary-text"></p>
        </details>
        <details>
          <summary><strong>Personalized</strong> <span class="badge">AI</span></summary>
          <p id="aiPersonalSummary" class="summary-text"></p>
        </details>
        <button class="btn btn-ghost" id="regenSummaries">Regenerate</button>
      </section>

      <!-- Citations -->
      <section class="modal-card">
        <h4>Citations</h4>
        <ul class="bullets" id="citationsList">
          <li>NYSE Morning Brief (mock)</li>
          <li>Sector Heatmap Snapshot (mock)</li>
          <li>Earnings Calendar (mock)</li>
        </ul>
      </section>

      <!-- Mock Portfolio -->
      <section class="modal-card">
        <h4>Mock Portfolio ‚Äî Projected Reach</h4>
        <div class="inputs">
          <label>Starting Balance ($) <input type="number" id="startBal" value="5000" min="0"></label>
          <label>Monthly Contribution ($) <input type="number" id="monthlyContrib" value="300" min="0"></label>
          <label>Annual Return (%) <input type="number" id="annualReturn" value="7" step="0.1"></label>
        </div>
        <canvas id="projectionChart" width="360" height="200" aria-label="Projection"></canvas>
        <div class="projection-stats">
          <div><span class="muted">1-Year:</span> <span id="proj1y">$‚Äî</span></div>
          <div><span class="muted">3-Year:</span> <span id="proj3y">$‚Äî</span></div>
          <div><span class="muted">5-Year:</span> <span id="proj5y">$‚Äî</span></div>
        </div>
      </section>
    </div>
  </div>
</div>

</body>
</html>
